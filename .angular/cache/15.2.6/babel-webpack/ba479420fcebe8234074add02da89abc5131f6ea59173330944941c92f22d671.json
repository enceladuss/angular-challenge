{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction CreditCardInputComponent_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 10);\n  }\n}\nfunction CreditCardInputComponent_i_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 11);\n  }\n}\nfunction CreditCardInputComponent_i_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 12);\n  }\n}\nfunction CreditCardInputComponent_i_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 13);\n  }\n}\nfunction CreditCardInputComponent_i_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 14);\n  }\n}\nfunction CreditCardInputComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function CreditCardInputComponent_ng_template_9_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.creditCardNumber = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.creditCardNumber)(\"readonly\", ctx_r5.isReadonly);\n  }\n}\nfunction CreditCardInputComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function CreditCardInputComponent_ng_template_10_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.creditCardNumber = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.creditCardNumber)(\"readonly\", ctx_r6.isReadonly);\n  }\n}\nexport let CreditCardInputComponent = /*#__PURE__*/(() => {\n  class CreditCardInputComponent {\n    constructor() {\n      this.creditCardNumber = '';\n      this.readonly = false;\n    }\n    get isReadonly() {\n      return this.readonly;\n    }\n    set isReadonly(value) {\n      this.creditCardNumber = value ? this.formatReadonlyCCNum(this.creditCardNumber) : this.creditCardNumber;\n      this.readonly = value;\n    }\n    formatReadonlyCCNum(ccNum) {\n      const parts = ccNum.match(/[\\s\\S]{1,4}/g) || [];\n      const onlyLast4Shown = parts.map((part, index) => {\n        if (index === parts.length - 1) {\n          return part;\n        }\n        return 'xxxx';\n      });\n      return onlyLast4Shown.join('-');\n    }\n  }\n  CreditCardInputComponent.ɵfac = function CreditCardInputComponent_Factory(t) {\n    return new (t || CreditCardInputComponent)();\n  };\n  CreditCardInputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreditCardInputComponent,\n    selectors: [[\"app-credit-card-input\"]],\n    inputs: {\n      creditCardNumber: \"creditCardNumber\",\n      isReadonly: \"isReadonly\"\n    },\n    decls: 11,\n    vars: 7,\n    consts: [[1, \"credit-card-input-container\"], [1, \"input-container\"], [\"for\", \"ccNum\"], [3, \"ngSwitch\"], [\"class\", \"fab fa-cc-amex\", 4, \"ngSwitchCase\"], [\"class\", \"fab fa-cc-visa\", 4, \"ngSwitchCase\"], [\"class\", \"fab fa-cc-mastercard\", 4, \"ngSwitchCase\"], [\"class\", \"fab fa-cc-discover\", 4, \"ngSwitchCase\"], [\"class\", \"far fa-credit-card\", 4, \"ngSwitchDefault\"], [3, \"ngIf\"], [1, \"fab\", \"fa-cc-amex\"], [1, \"fab\", \"fa-cc-visa\"], [1, \"fab\", \"fa-cc-mastercard\"], [1, \"fab\", \"fa-cc-discover\"], [1, \"far\", \"fa-credit-card\"], [\"id\", \"ccNum\", \"type\", \"tel\", \"required\", \"\", \"maxlength\", \"16\", \"oninput\", \"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\\\..*?)\\\\..*/g, '$1');\", 3, \"ngModel\", \"readonly\", \"ngModelChange\"], [\"type\", \"text\", 3, \"ngModel\", \"readonly\", \"ngModelChange\"]],\n    template: function CreditCardInputComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n        i0.ɵɵelementContainerStart(3, 3);\n        i0.ɵɵtemplate(4, CreditCardInputComponent_i_4_Template, 1, 0, \"i\", 4);\n        i0.ɵɵtemplate(5, CreditCardInputComponent_i_5_Template, 1, 0, \"i\", 5);\n        i0.ɵɵtemplate(6, CreditCardInputComponent_i_6_Template, 1, 0, \"i\", 6);\n        i0.ɵɵtemplate(7, CreditCardInputComponent_i_7_Template, 1, 0, \"i\", 7);\n        i0.ɵɵtemplate(8, CreditCardInputComponent_i_8_Template, 1, 0, \"i\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, CreditCardInputComponent_ng_template_9_Template, 1, 2, \"ng-template\", 9);\n        i0.ɵɵtemplate(10, CreditCardInputComponent_ng_template_10_Template, 1, 2, \"ng-template\", 9);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngSwitch\", ctx.creditCardNumber[0]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"3\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"4\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"5\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"6\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isReadonly);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isReadonly);\n      }\n    },\n    dependencies: [i1.NgIf, i1.NgSwitch, i1.NgSwitchCase, i1.NgSwitchDefault, i2.DefaultValueAccessor, i2.NgControlStatus, i2.RequiredValidator, i2.MaxLengthValidator, i2.NgModel],\n    styles: [\".credit-card-input-container[_ngcontent-%COMP%]{display:grid;grid-gap:10px;margin-bottom:10px}.input-container[_ngcontent-%COMP%]{position:relative}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 10px 10px 2.5em}.input-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:1em;transform:translate(-50%,-50%)}\"]\n  });\n  return CreditCardInputComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}